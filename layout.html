<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dokumentasjon av helpdesk</title>
  <link rel="stylesheet" href="assets/style/style.css" />
</head>
<body>
  <div id="page-overlay"></div>
  <div class="header finisher-header" style="width: 100vw; height: 100vh;">
    <div class="layout">
      <aside class="sidebar">
        <h1 class="site-title">Helpdesk for Discord: lokal LLM med RAG</h1>

        <div class="menu">
          <ul class="menu-list">
            <li><a href="index.html" class="back-home" >Tilbake til forsiden</a></li>
          </ul>
          <div class="menu-section">
            <button class="menu-toggle"> General information▾</button>
            <ul class="menu-list">
              <li><a href="pages/introduction.html" target="contentFrame">Introduksjon til prosjekt</a></li>
            </ul>
          </div>
          <div class="menu-section">
            <button class="menu-toggle">Det tekniske▾</button>
            <ul class="menu-list">
              <li><a href="pages/process.html" target="contentFrame">Teknisk oppsett</a></li>
              <li><a href="pages/influence.html" target="contentFrame">Det som påvirker modellen</a></li>
              <li><a href="pages/security.html" target="contentFrame">Informasjonssikkerhet og personvern</a></li>
            </ul>
          </div>
          <div class="menu-section">
            <button class="menu-toggle">Refleksjon og oppsummering▾</button>
            <ul class="menu-list">
              <li><a href="pages/reflection.html" target="contentFrame">Refleksjon</a></li>
              <li><a href="pages/summary.html" target="contentFrame">oppsummering</a></li>
            </ul>
          </div>
          
      <div class="sidebar-nav-buttons">
        <a href="#" class="nav-btn back">← Start</a>
        <a href="#" class="nav-btn next">→ Neste</a>
      </div>

      </aside>

      
      <main class="content">
        <iframe 
          name="contentFrame" 
          src="introduksjon/innhold.html" 
          style="border: none; width: 100%; height: 100%;"
        ></iframe>
      </main>
    </div>
  </div>


<script src="assets/scripts/finisher-header.es5.min.js"></script>
<script>
  // Initialize the background
new FinisherHeader({
  count: 16,
  size: { min: 300, max: 1200, pulse: 0 },
  speed: { x: { min: 0.01, max: 0.03 }, y: { min: 0.01, max: 0.03 } },

  colors: {
    background: "#08140b",
    particles: ["#00ff84", "#1aff99", "#4dffb8", "#8dffd5"]
  },

  blending: "screen",
  opacity: { center: 0.65, edge: 0.05 },
  skew: 5,
  shapes: ["c", "s"]
});

  // Toggle sidebar sections
  document.querySelectorAll('.menu-toggle').forEach(button => {
    button.addEventListener('click', () => {
      const list = button.nextElementSibling;
      list.classList.toggle('closed');
      button.classList.toggle('closed');
    });
  });

  const iframe = document.querySelector('iframe[name="contentFrame"]');
  
  // Sidebar links
  const sidebarLinks = Array.from(document.querySelectorAll('a[target="contentFrame"]'));

  // Full ordered list of pages for Back/Next navigation
  const pageOrder = [
    "pages/introduction.html",
    "pages/process.html",
    "pages/influence.html",
    "pages/security.html",
    "pages/reflection.html",
    "pages/summary.html",
    // add all pages in the exact order you want
  ];

  function updateActiveLink(href) {
    // Update sidebar active
    sidebarLinks.forEach(l => l.classList.remove('active'));
    const match = document.querySelector(`a[href="${href}"]`);
    if (match) match.classList.add('active');

    // Save in localStorage
    localStorage.setItem('activeLink', href);

    // Load page in iframe
    iframe.src = href;
  }

  // Sidebar link clicks
  sidebarLinks.forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const href = link.getAttribute('href');
      updateActiveLink(href);
    });
  });

  // Back / Next buttons
  const backBtn = document.querySelector('.sidebar-nav-buttons .back');
  const nextBtn = document.querySelector('.sidebar-nav-buttons .next');

  function getCurrentPageIndex() {
    const src = iframe.src.split('/').slice(-2).join('/');
    return pageOrder.indexOf(src);
  }

  backBtn.addEventListener('click', e => {
    e.preventDefault();
    const currentIndex = getCurrentPageIndex();
    if (currentIndex > 0) updateActiveLink(pageOrder[currentIndex - 1]);
  });

  nextBtn.addEventListener('click', e => {
    e.preventDefault();
    const currentIndex = getCurrentPageIndex();
    if (currentIndex < pageOrder.length - 1) updateActiveLink(pageOrder[currentIndex + 1]);
  });

  // Restore last active page on load
  window.addEventListener('DOMContentLoaded', () => {
    const activeHref = localStorage.getItem('activeLink') || pageOrder[0];
    updateActiveLink(activeHref);
  });
</script>
</body>
</html>